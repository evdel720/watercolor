{"version":3,"sources":["webpack/bootstrap bd85663ce4d9ce7dc852","./lib/watercolor.js","./lib/path_generator.js","./lib/breadth_first.js"],"names":["document","addEventListener","pathGenerator","PathGenerator","canvas","getElementById","ctx","getContext","width","height","color","paths","cells","lineSegments","mode","night","clear","bind","colorInput","e","target","style","backgroundColor","match","map","n","parseInt","sizeInput","size","value","images","querySelectorAll","forEach","i","changeBackGround","clearButton","modeChangeButton","modeChange","clickHandler","dragHandler","mouseUpHandler","id","window","confirm","setAttribute","src","min","max","length","lineCap","lineJoin","lineWidth","strokeStyle","join","beginPath","moveTo","slice","l","lineTo","stroke","x","y","sIdx","indexHelper","offsetX","offsetY","breadthFirst","startIdx","push","fillStyle","fillRect","button","buttons","clearRect","p","clearInterval","BreadthFirst","data","dist","segments","colorGap","colorGapGenerator","c","onePixelProcess","fillCell","segmentNeighbors","interval","setInterval","randomSeg","popRandomSegment","idx","neighbors","filter","isInline","isOpen","includes","Math","floor","random","splice"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap bd85663ce4d9ce7dc852\n **/","import PathGenerator from './path_generator.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let pathGenerator = new PathGenerator();\n  // let canvas = document.getElementById('canvas');\n  // let click = new MouseEvent('click', {clientX: 500, clientY: 500});\n  // canvas.dispatchEvent(click);\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/watercolor.js\n **/","import BreadthFirst from './breadth_first.js';\n\nclass PathGenerator {\n  constructor() {\n    this.canvas = document.getElementById('canvas');\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.color = [0, 0, 0];\n    this.paths = [];\n    this.cells = {};\n    this.lineSegments = [];\n    this.mode = \"water\";\n    this.night = false;\n    this.clear = this.clear.bind(this);\n\n    let colorInput = document.getElementById('color');\n    colorInput.addEventListener('change', (e) => {\n      this.color = e.target.style.backgroundColor.match(/\\d+/g).map((n) => parseInt(n));\n    });\n\n    this.sizeInput = document.getElementById('size');\n    this.size = parseInt(this.sizeInput.value);\n    this.sizeInput.addEventListener('change', (e) => {\n      this.size = parseInt(e.target.value);\n    });\n\n    let images = document.querySelectorAll('.options > *');\n    images.forEach((i) => {\n      i.addEventListener('click', this.changeBackGround.bind(this));\n    });\n\n    let clearButton = document.getElementById('clear');\n    clearButton.addEventListener('click', this.clear);\n\n    let modeChangeButton = document.getElementById('mode_img');\n    modeChangeButton.addEventListener('click', this.modeChange.bind(this));\n\n    this.canvas.addEventListener('click', this.clickHandler.bind(this));\n    this.canvas.addEventListener('mousemove', this.dragHandler.bind(this));\n    this.canvas.addEventListener('mouseup', this.mouseUpHandler.bind(this));\n  }\n\n  changeBackGround(e) {\n    if (this.night && e.target.id !== \"night\" && window.confirm(\"Are you sure? To shift day mode, it will clear current canvas.\")) {\n      this.night = false;\n      this.clear();\n    }\n    if (e.target.id === \"default\") {\n      this.canvas.setAttribute('style', 'background-image: none; background-color: white');\n    } else if (e.target.id === \"night\") {\n      if (!this.night && window.confirm(\"Are you sure? To shift night mode, it will clear current canvas.\")) {\n        this.night = true;\n        this.canvas.setAttribute('style', 'background-image: none; background-color: black');\n        this.clear();\n      }\n    }else {\n      this.canvas.setAttribute('style', `background-image: url(${e.target.src})`);\n    }\n  }\n\n  modeChange(e) {\n    if (this.mode === 'water') {\n      this.mode = 'brush';\n      e.target.src = \"http://res.cloudinary.com/wkdal720/image/upload/v1473786825/brush_hmunvb.png\";\n      this.sizeInput.min = '2';\n      this.sizeInput.max = '10';\n      this.sizeInput.setAttribute('value', '5');\n      this.size = 5;\n    } else {\n      this.mode = 'water';\n      e.target.src = \"http://res.cloudinary.com/wkdal720/image/upload/v1473786828/water_qnvczd.png\";\n      this.sizeInput.min = '100';\n      this.sizeInput.max = '1000';\n      this.sizeInput.setAttribute('value', '300');\n      this.size = 300;\n    }\n  }\n\n  mouseUpHandler(e) {\n    if (this.mode === 'brush' && this.lineSegments.length > 1) {\n      this.ctx.lineCap = \"round\";\n      this.ctx.lineJoin = \"round\";\n      this.ctx.lineWidth = this.size;\n      this.ctx.strokeStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n      this.ctx.beginPath();\n      this.ctx.moveTo(this.lineSegments[0][0], this.lineSegments[0][1]);\n      this.lineSegments.slice(1).forEach((l) => {\n        this.ctx.lineTo(l[0], l[1]);\n      });\n      this.ctx.stroke();\n      this.lineSegments = [];\n    }\n  }\n\n  indexHelper(x, y) {\n    return parseInt(x) + parseInt(y) * this.width;\n  }\n\n  clickHandler(e) {\n    if (this.mode === 'water') {\n      let sIdx = this.indexHelper(e.offsetX, e.offsetY);\n      let breadthFirst = new BreadthFirst({\n        color: this.color,\n        width: this.width,\n        height: this.height,\n        startIdx: sIdx,\n        size: this.size,\n        cells: this.cells,\n        night: this.night,\n        ctx: this.ctx});\n        this.paths.push(breadthFirst);\n    } else {\n      this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n      this.ctx.fillRect(e.offsetX, e.offsetY, this.size, this.size);\n      this.lineSegments = [];\n    }\n  }\n\n  dragHandler(e) {\n    if (e.button === 0 && e.buttons === 1) {\n      if (this.mode === 'water') {\n        let sIdx = this.indexHelper(e.offsetX, e.offsetY);\n        let breadthFirst = new BreadthFirst({\n          color: this.color,\n          width: this.width,\n          height: this.height,\n          startIdx: sIdx,\n          size: this.size,\n          cells: this.cells,\n          night: this.night,\n          ctx: this.ctx});\n          this.paths.push(breadthFirst);\n        } else {\n          this.lineSegments.push([e.offsetX, e.offsetY]);\n          this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n          this.ctx.fillRect(e.offsetX, e.offsetY, 1, 1);\n        }\n      }\n  }\n\n  clear() {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.paths.forEach((p) => p.clearInterval());\n    this.cells = {};\n    this.paths = [];\n    this.lineSegments = [];\n  }\n\n}\n\nexport default PathGenerator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/path_generator.js\n **/","\nclass BreadthFirst {\n  constructor(data) {\n    this.ctx = data.ctx;\n    this.width = data.width;\n    this.height = data.height;\n    this.cells = data.cells;\n    this.size = data.size;\n    this.color = data.color;\n    this.startIdx = data.startIdx;\n    this.night = data.night;\n\n    this.dist = 0;\n    this.segments = [];\n    this.colorGap = this.color.map(c => this.colorGapGenerator(c));\n    this.onePixelProcess = this.onePixelProcess.bind(this);\n\n    if (!this.cells[this.startIdx]) {\n      this.fillCell(this.startIdx);\n    }\n    this.segmentNeighbors(this.startIdx);\n\n    this.interval = window.setInterval(this.onePixelProcess, 10);\n    this.clearInterval = this.clearInterval.bind(this);\n  }\n\n  clearInterval() {\n    window.clearInterval(this.interval);\n  }\n\n  colorGapGenerator(c) {\n    return this.night ? c / this.size : (255 - c) / this.size;\n  }\n\n  onePixelProcess() {\n    if (this.segments.length === 0) {\n      this.clearInterval();\n    }\n    let randomSeg = this.popRandomSegment();\n    this.fillCell(randomSeg);\n    this.segmentNeighbors(randomSeg);\n    this.color = this.color.map((c, i) => {\n      return this.night ? c - this.colorGap[i] : c + this.colorGap[i];\n    });\n  }\n\n  segmentNeighbors(idx) {\n    let neighbors = [idx - this.width, idx + this.width, idx - 1, idx + 1];\n    neighbors = neighbors.filter((i) => {\n      return (i >= 0 &&\n              i < (this.width * this.height) &&\n              this.isInline(idx) &&\n              this.isOpen(i));\n    });\n    neighbors.forEach((n) => this.segments.push(n));\n  }\n\n  isInline(idx) {\n    return idx % this.width !== 0 && idx % this.width !== this.width - 1;\n  }\n\n  isOpen(idx) {\n    return !this.cells[idx] && !this.segments.includes(idx);\n  }\n\n  popRandomSegment() {\n    let idx = Math.floor(Math.random() * this.segments.length);\n    return this.segments.splice(idx, 1)[0];\n  }\n\n  fillCell(idx) {\n    this.dist += 1;\n    this.cells[idx] = true;\n    this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n    let x = idx % this.width,\n        y = parseInt(idx / this.width);\n    this.ctx.fillRect(x, y, 1, 1);\n    if (this.dist === this.size) {\n      this.clearInterval();\n    }\n  }\n}\n\n\nexport default BreadthFirst;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/breadth_first.js\n **/"],"sourceRoot":""}
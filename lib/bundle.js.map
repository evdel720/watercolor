{"version":3,"sources":["webpack/bootstrap a50cd8dbb48d5853b6a0","./lib/watercolor.js","./lib/path_generator.js","./lib/breadth_first.js"],"names":["document","addEventListener","pathGenerator","PathGenerator","canvas","getElementById","ctx","getContext","width","height","speed","color","paths","cells","mode","line","colorInput","e","target","style","backgroundColor","match","map","n","parseInt","sizeInput","size","value","clearButton","clear","bind","modeChangeButton","modeChange","clickHandler","dragHandler","mouseUpHandler","src","min","max","setAttribute","length","lineCap","lineJoin","lineWidth","strokeStyle","join","beginPath","moveTo","slice","forEach","l","lineTo","stroke","x","y","sIdx","indexHelper","offsetX","offsetY","breadthFirst","startIdx","push","fillStyle","fillRect","button","buttons","preventDefault","clearRect","Array","p","window","clearInterval","interval","BreadthFirst","data","dist","segments","colorGap","colorGapGenerator","c","visited","fillCell","segmentNeighbors","onePixelProcess","setInterval","randomSeg","popRandomSegment","i","idx","neighbors","filter","isInline","isOpen","includes","Math","floor","random","splice"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA;;;;;;AAEAA,UAASC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD,OAAIC,gBAAgB,8BAApB;AACA;AACA;AACA;AAED,EAND,E;;;;;;;;;;;;;;ACFA;;;;;;;;KAEMC,a;AACJ,4BAAc;AAAA;;AAAA;;AACZ,UAAKC,MAAL,GAAcJ,SAASK,cAAT,CAAwB,QAAxB,CAAd;AACA,UAAKC,GAAL,GAAW,KAAKF,MAAL,CAAYG,UAAZ,CAAuB,IAAvB,CAAX;AACA,UAAKC,KAAL,GAAa,KAAKJ,MAAL,CAAYI,KAAzB;AACA,UAAKC,MAAL,GAAc,KAAKL,MAAL,CAAYK,MAA1B;AACA,UAAKC,KAAL,GAAa,IAAb;AACA,UAAKC,KAAL,GAAa,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAb;AACA,UAAKC,KAAL,GAAa,EAAb;AACA,UAAKC,KAAL,GAAa,EAAb;AACA,UAAKC,IAAL,GAAY,OAAZ;AACA,UAAKC,IAAL,GAAY,EAAZ;;AAEA,SAAIC,aAAahB,SAASK,cAAT,CAAwB,OAAxB,CAAjB;AACAW,gBAAWf,gBAAX,CAA4B,QAA5B,EAAsC,UAACgB,CAAD,EAAO;AAC3C,aAAKN,KAAL,GAAaM,EAAEC,MAAF,CAASC,KAAT,CAAeC,eAAf,CAA+BC,KAA/B,CAAqC,MAArC,EAA6CC,GAA7C,CAAiD,UAACC,CAAD;AAAA,gBAAOC,SAASD,CAAT,CAAP;AAAA,QAAjD,CAAb;AACD,MAFD;;AAIA,UAAKE,SAAL,GAAiBzB,SAASK,cAAT,CAAwB,MAAxB,CAAjB;AACA,UAAKqB,IAAL,GAAYF,SAAS,KAAKC,SAAL,CAAeE,KAAxB,CAAZ;AACA,UAAKF,SAAL,CAAexB,gBAAf,CAAgC,QAAhC,EAA0C,UAACgB,CAAD,EAAO;AAC/C,aAAKS,IAAL,GAAYF,SAASP,EAAEC,MAAF,CAASS,KAAlB,CAAZ;AACD,MAFD;;AAIA,SAAIC,cAAc5B,SAASK,cAAT,CAAwB,OAAxB,CAAlB;AACAuB,iBAAY3B,gBAAZ,CAA6B,OAA7B,EAAsC,KAAK4B,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAtC;;AAEA,SAAIC,mBAAmB/B,SAASK,cAAT,CAAwB,UAAxB,CAAvB;AACA0B,sBAAiB9B,gBAAjB,CAAkC,OAAlC,EAA2C,KAAK+B,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAA3C;;AAEA,UAAK1B,MAAL,CAAYH,gBAAZ,CAA6B,OAA7B,EAAsC,KAAKgC,YAAL,CAAkBH,IAAlB,CAAuB,IAAvB,CAAtC;AACA,UAAK1B,MAAL,CAAYH,gBAAZ,CAA6B,WAA7B,EAA0C,KAAKiC,WAAL,CAAiBJ,IAAjB,CAAsB,IAAtB,CAA1C;AACA,UAAK1B,MAAL,CAAYH,gBAAZ,CAA6B,SAA7B,EAAwC,KAAKkC,cAAL,CAAoBL,IAApB,CAAyB,IAAzB,CAAxC;AACD;;;;gCAEUb,C,EAAG;AACZ,WAAI,KAAKH,IAAL,KAAc,OAAlB,EAA2B;AACzB,cAAKA,IAAL,GAAY,OAAZ;AACAG,WAAEC,MAAF,CAASkB,GAAT,GAAe,oBAAf;AACA;AACA,cAAKX,SAAL,CAAeY,GAAf,GAAqB,GAArB;AACA,cAAKZ,SAAL,CAAea,GAAf,GAAqB,IAArB;AACA,cAAKb,SAAL,CAAec,YAAf,CAA4B,OAA5B,EAAqC,GAArC;AACA,cAAKb,IAAL,GAAY,CAAZ;AACD,QARD,MAQO;AACL,cAAKZ,IAAL,GAAY,OAAZ;AACAG,WAAEC,MAAF,CAASkB,GAAT,GAAe,oBAAf;AACA,cAAKX,SAAL,CAAeY,GAAf,GAAqB,KAArB;AACA,cAAKZ,SAAL,CAAea,GAAf,GAAqB,MAArB;AACA,cAAKb,SAAL,CAAec,YAAf,CAA4B,OAA5B,EAAqC,KAArC;AACA,cAAKb,IAAL,GAAY,GAAZ;AACA;AACD;AACF;;;oCAEcT,C,EAAG;AAAA;;AAChB,WAAI,KAAKH,IAAL,KAAc,OAAd,IAAyB,KAAKC,IAAL,CAAUyB,MAAV,GAAmB,CAAhD,EAAmD;AACjD,cAAKlC,GAAL,CAASmC,OAAT,GAAmB,OAAnB;AACA,cAAKnC,GAAL,CAASoC,QAAT,GAAoB,OAApB;AACA,cAAKpC,GAAL,CAASqC,SAAT,GAAqB,KAAKjB,IAA1B;AACA,cAAKpB,GAAL,CAASsC,WAAT,YAA8B,KAAKjC,KAAL,CAAWW,GAAX,CAAe;AAAA,kBAAIE,SAASD,CAAT,CAAJ;AAAA,UAAf,EAAgCsB,IAAhC,CAAqC,IAArC,CAA9B;AACA,cAAKvC,GAAL,CAASwC,SAAT;AACA,cAAKxC,GAAL,CAASyC,MAAT,CAAgB,KAAKhC,IAAL,CAAU,CAAV,EAAa,CAAb,CAAhB,EAAiC,KAAKA,IAAL,CAAU,CAAV,EAAa,CAAb,CAAjC;AACA,cAAKA,IAAL,CAAUiC,KAAV,CAAgB,CAAhB,EAAmBC,OAAnB,CAA2B,UAACC,CAAD,EAAO;AAChC,kBAAK5C,GAAL,CAAS6C,MAAT,CAAgBD,EAAE,CAAF,CAAhB,EAAsBA,EAAE,CAAF,CAAtB;AACD,UAFD;AAGA,cAAK5C,GAAL,CAAS8C,MAAT;AACA,cAAKrC,IAAL,GAAY,EAAZ;AACD;AACF;;;iCAEWsC,C,EAAGC,C,EAAG;AAChB,cAAO9B,SAAS6B,CAAT,IAAc7B,SAAS8B,CAAT,IAAc,KAAK9C,KAAxC;AACD;;;kCAEYS,C,EAAG;AACd,WAAI,KAAKH,IAAL,KAAc,OAAlB,EAA2B;AACzB,aAAIyC,OAAO,KAAKC,WAAL,CAAiBvC,EAAEwC,OAAnB,EAA4BxC,EAAEyC,OAA9B,CAAX;AACA,aAAIC,eAAe,4BAAiB;AAClChD,kBAAO,KAAKA,KADsB;AAElCH,kBAAO,KAAKA,KAFsB;AAGlCC,mBAAQ,KAAKA,MAHqB;AAIlCmD,qBAAUL,IAJwB;AAKlC7C,kBAAO,KAAKA,KALsB;AAMlCgB,iBAAM,KAAKA,IANuB;AAOlCb,kBAAO,KAAKA,KAPsB;AAQlCP,gBAAK,KAAKA,GARwB,EAAjB,CAAnB;AASE,cAAKM,KAAL,CAAWiD,IAAX,CAAgBF,YAAhB;AACH,QAZD,MAYO;AACL,cAAKrD,GAAL,CAASwD,SAAT,YAA4B,KAAKnD,KAAL,CAAWW,GAAX,CAAe;AAAA,kBAAIE,SAASD,CAAT,CAAJ;AAAA,UAAf,EAAgCsB,IAAhC,CAAqC,IAArC,CAA5B;AACA,cAAKvC,GAAL,CAASyD,QAAT,CAAkB9C,EAAEwC,OAApB,EAA6BxC,EAAEyC,OAA/B,EAAwC,KAAKhC,IAA7C,EAAmD,KAAKA,IAAxD;AACA,cAAKX,IAAL,GAAY,EAAZ;AACD;AACF;;;iCAEWE,C,EAAG;AACb,WAAIA,EAAE+C,MAAF,KAAa,CAAb,IAAkB/C,EAAEgD,OAAF,KAAc,CAApC,EAAuC;AACrC,aAAI,KAAKnD,IAAL,KAAc,OAAlB,EAA2B;AACzB,eAAIyC,OAAO,KAAKC,WAAL,CAAiBvC,EAAEwC,OAAnB,EAA4BxC,EAAEyC,OAA9B,CAAX;AACA,eAAIC,eAAe,4BAAiB;AAClChD,oBAAO,KAAKA,KADsB;AAElCH,oBAAO,KAAKA,KAFsB;AAGlCC,qBAAQ,KAAKA,MAHqB;AAIlCmD,uBAAUL,IAJwB;AAKlC7C,oBAAO,KAAKA,KALsB;AAMlCgB,mBAAM,KAAKA,IANuB;AAOlCb,oBAAO,KAAKA,KAPsB;AAQlCP,kBAAK,KAAKA,GARwB,EAAjB,CAAnB;AASE,gBAAKM,KAAL,CAAWiD,IAAX,CAAgBF,YAAhB;AACD,UAZH,MAYS;AACL,gBAAK5C,IAAL,CAAU8C,IAAV,CAAe,CAAC5C,EAAEwC,OAAH,EAAYxC,EAAEyC,OAAd,CAAf;AACA,gBAAKpD,GAAL,CAASwD,SAAT,YAA4B,KAAKnD,KAAL,CAAWW,GAAX,CAAe;AAAA,oBAAIE,SAASD,CAAT,CAAJ;AAAA,YAAf,EAAgCsB,IAAhC,CAAqC,IAArC,CAA5B;AACA,gBAAKvC,GAAL,CAASyD,QAAT,CAAkB9C,EAAEwC,OAApB,EAA6BxC,EAAEyC,OAA/B,EAAwC,CAAxC,EAA2C,CAA3C;AACD;AACF;AACJ;;;2BAEKzC,C,EAAG;AACPA,SAAEiD,cAAF;AACA,YAAK5D,GAAL,CAAS6D,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,KAAK/D,MAAL,CAAYI,KAArC,EAA4C,KAAKJ,MAAL,CAAYK,MAAxD;AACA,YAAKI,KAAL,GAAa,IAAIuD,KAAJ,CAAU,KAAKhE,MAAL,CAAYI,KAAZ,GAAoB,KAAKJ,MAAL,CAAYK,MAA1C,CAAb;AACA,YAAKG,KAAL,CAAWqC,OAAX,CAAmB,UAACoB,CAAD;AAAA,gBAAOC,OAAOC,aAAP,CAAqBF,EAAEG,QAAvB,CAAP;AAAA,QAAnB;AACA,YAAK3D,KAAL,GAAa,EAAb;AACA,YAAKD,KAAL,GAAa,EAAb;AACA,YAAKG,IAAL,GAAY,EAAZ;AACD;;;;;;mBAIYZ,a;;;;;;;;;;;;;;;;;KClITsE,Y;AACJ,yBAAYC,IAAZ,EAAkB;AAAA;;AAAA;;AAChB,UAAKlE,KAAL,GAAakE,KAAKlE,KAAlB;AACA,UAAKC,MAAL,GAAciE,KAAKjE,MAAnB;AACA,UAAKkE,IAAL,GAAY,CAAZ;AACA,UAAKf,QAAL,GAAgBc,KAAKd,QAArB;AACA,UAAKgB,QAAL,GAAgB,EAAhB;AACA,UAAKtE,GAAL,GAAWoE,KAAKpE,GAAhB;AACA,UAAKoB,IAAL,GAAYgD,KAAKhD,IAAjB;AACA,UAAKf,KAAL,GAAa+D,KAAK/D,KAAlB;AACA,UAAKkE,QAAL,GAAgB,KAAKlE,KAAL,CAAWW,GAAX,CAAe;AAAA,cAAK,MAAKwD,iBAAL,CAAuBC,CAAvB,CAAL;AAAA,MAAf,CAAhB;AACA,UAAKrE,KAAL,GAAagE,KAAKhE,KAAlB;AACA,UAAKsE,OAAL,GAAe,EAAf;AACA,UAAKnE,KAAL,GAAa6D,KAAK7D,KAAlB;;AAEA,UAAKoE,QAAL,CAAc,KAAKrB,QAAnB;AACA,UAAKsB,gBAAL,CAAsB,KAAKtB,QAA3B;AACA,UAAKuB,eAAL,GAAuB,KAAKA,eAAL,CAAqBrD,IAArB,CAA0B,IAA1B,CAAvB;;AAEA,UAAK0C,QAAL,GAAgBF,OAAOc,WAAP,CAAmB,KAAKD,eAAxB,EAAyC,KAAKzE,KAA9C,CAAhB;AACD;;;;sCAEgB;AACf,WAAI,KAAKkE,QAAL,CAAcpC,MAAlB,EAA0B;AACxB,cAAKgC,QAAL,GAAgBF,OAAOc,WAAP,CAAmB,KAAKD,eAAxB,EAAyC,KAAKzE,KAA9C,CAAhB;AACD;AACF;;;uCAEiBqE,C,EAAG;AACnB,cAAO,CAAC,MAAMA,CAAP,IAAY,KAAKrD,IAAxB;AACD;;;uCAEiB;AAAA;;AAChB,WAAI,KAAKkD,QAAL,CAAcpC,MAAd,KAAyB,CAA7B,EAAgC;AAC9B8B,gBAAOC,aAAP,CAAqB,KAAKC,QAA1B;AACD;AACD,WAAIa,YAAY,KAAKC,gBAAL,EAAhB;AACA,YAAKL,QAAL,CAAcI,SAAd;AACA,YAAKH,gBAAL,CAAsBG,SAAtB;AACA,YAAK1E,KAAL,GAAa,KAAKA,KAAL,CAAWW,GAAX,CAAe,UAACyD,CAAD,EAAIQ,CAAJ;AAAA,gBAAUR,IAAI,OAAKF,QAAL,CAAcU,CAAd,CAAd;AAAA,QAAf,CAAb;AACD;;;sCAEgBC,G,EAAK;AAAA;;AACpB,WAAIC,YAAY,CAACD,MAAM,KAAKhF,KAAZ,EAAmBgF,MAAM,KAAKhF,KAA9B,EAAqCgF,MAAM,CAA3C,EAA8CA,MAAM,CAApD,CAAhB;AACAC,mBAAYA,UAAUC,MAAV,CAAiB,UAACH,CAAD,EAAO;AAClC,gBAAOA,KAAK,CAAL,IAAU,OAAKI,QAAL,CAAcJ,CAAd,CAAV,IAA8BA,IAAK,OAAK/E,KAAL,GAAa,OAAKC,MAArD,IAAgE,OAAKmF,MAAL,CAAYL,CAAZ,CAAvE;AACD,QAFW,CAAZ;AAGAE,iBAAUxC,OAAV,CAAkB,UAAC1B,CAAD;AAAA,gBAAO,OAAKqD,QAAL,CAAcf,IAAd,CAAmBtC,CAAnB,CAAP;AAAA,QAAlB;AACD;;;8BAEQiE,G,EAAK;AACZ,cAAOA,MAAM,KAAKhF,KAAX,KAAqB,CAA5B;AACD;;;4BAEMgF,G,EAAK;AACV,cAAO,CAAC,KAAK3E,KAAL,CAAW2E,GAAX,CAAD,IAAoB,CAAC,KAAKZ,QAAL,CAAciB,QAAd,CAAuBL,GAAvB,CAA5B;AACD;;;wCAEkB;AACjB,WAAIZ,WAAW,KAAKA,QAApB;AACA,WAAIpC,SAASoC,SAASpC,MAAtB;AACA,WAAI+C,IAAIO,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgBxD,MAA3B,CAAR;AACA,cAAOoC,SAASqB,MAAT,CAAgBV,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;8BAESC,G,EAAK;AACZ,YAAKb,IAAL,IAAa,CAAb;AACA,YAAKK,OAAL,CAAaQ,GAAb,IAAoB,IAApB;AACA,YAAK3E,KAAL,CAAW2E,GAAX,IAAkB,IAAlB;AACA,WAAInC,IAAImC,MAAM,KAAKhF,KAAnB;AAAA,WACI8C,IAAI9B,SAASgE,MAAM,KAAKhF,KAApB,CADR;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAKF,GAAL,CAASwD,SAAT,YAA4B,KAAKnD,KAAL,CAAWW,GAAX,CAAe;AAAA,gBAAIE,SAASD,CAAT,CAAJ;AAAA,QAAf,EAAgCsB,IAAhC,CAAqC,IAArC,CAA5B;AACA,YAAKvC,GAAL,CAASyD,QAAT,CAAkBV,CAAlB,EAAqBC,CAArB,EAAwB,CAAxB,EAA2B,CAA3B;AACA,WAAI,KAAKqB,IAAL,KAAc,KAAKjD,IAAvB,EAA6B;AAC3B4C,gBAAOC,aAAP,CAAqB,KAAKC,QAA1B;AACD;AACF;;;;;;mBAIYC,Y","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a50cd8dbb48d5853b6a0\n **/","import PathGenerator from './path_generator.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let pathGenerator = new PathGenerator();\n  // let canvas = document.getElementById('canvas');\n  // let click = new MouseEvent('click', {clientX: 500, clientY: 500});\n  // canvas.dispatchEvent(click);\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/watercolor.js\n **/","import BreadthFirst from './breadth_first.js';\n\nclass PathGenerator {\n  constructor() {\n    this.canvas = document.getElementById('canvas');\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.speed = 0.01;\n    this.color = [0, 0, 0];\n    this.paths = [];\n    this.cells = {};\n    this.mode = \"water\";\n    this.line = [];\n\n    let colorInput = document.getElementById('color');\n    colorInput.addEventListener('change', (e) => {\n      this.color = e.target.style.backgroundColor.match(/\\d+/g).map((n) => parseInt(n));\n    });\n\n    this.sizeInput = document.getElementById('size');\n    this.size = parseInt(this.sizeInput.value);\n    this.sizeInput.addEventListener('change', (e) => {\n      this.size = parseInt(e.target.value);\n    });\n\n    let clearButton = document.getElementById('clear');\n    clearButton.addEventListener('click', this.clear.bind(this));\n\n    let modeChangeButton = document.getElementById('mode_img');\n    modeChangeButton.addEventListener('click', this.modeChange.bind(this));\n\n    this.canvas.addEventListener('click', this.clickHandler.bind(this));\n    this.canvas.addEventListener('mousemove', this.dragHandler.bind(this));\n    this.canvas.addEventListener('mouseup', this.mouseUpHandler.bind(this));\n  }\n\n  modeChange(e) {\n    if (this.mode === 'water') {\n      this.mode = 'brush';\n      e.target.src = \"./assets/brush.png\";\n      // e.target.src = \"http://res.cloudinary.com/wkdal720/image/upload/v1473786825/brush_hmunvb.png\";\n      this.sizeInput.min = '2';\n      this.sizeInput.max = '10';\n      this.sizeInput.setAttribute('value', '5');\n      this.size = 5;\n    } else {\n      this.mode = 'water';\n      e.target.src = \"./assets/water.png\";\n      this.sizeInput.min = '100';\n      this.sizeInput.max = '1000';\n      this.sizeInput.setAttribute('value', '300');\n      this.size = 300;\n      // e.target.src = \"http://res.cloudinary.com/wkdal720/image/upload/v1473786828/water_qnvczd.png\";\n    }\n  }\n\n  mouseUpHandler(e) {\n    if (this.mode === 'brush' && this.line.length > 1) {\n      this.ctx.lineCap = \"round\";\n      this.ctx.lineJoin = \"round\";\n      this.ctx.lineWidth = this.size;\n      this.ctx.strokeStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n      this.ctx.beginPath();\n      this.ctx.moveTo(this.line[0][0], this.line[0][1]);\n      this.line.slice(1).forEach((l) => {\n        this.ctx.lineTo(l[0], l[1]);\n      });\n      this.ctx.stroke();\n      this.line = [];\n    }\n  }\n\n  indexHelper(x, y) {\n    return parseInt(x) + parseInt(y) * this.width;\n  }\n\n  clickHandler(e) {\n    if (this.mode === 'water') {\n      let sIdx = this.indexHelper(e.offsetX, e.offsetY);\n      let breadthFirst = new BreadthFirst({\n        color: this.color,\n        width: this.width,\n        height: this.height,\n        startIdx: sIdx,\n        speed: this.speed,\n        size: this.size,\n        cells: this.cells,\n        ctx: this.ctx});\n        this.paths.push(breadthFirst);\n    } else {\n      this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n      this.ctx.fillRect(e.offsetX, e.offsetY, this.size, this.size);\n      this.line = [];\n    }\n  }\n\n  dragHandler(e) {\n    if (e.button === 0 && e.buttons === 1) {\n      if (this.mode === 'water') {\n        let sIdx = this.indexHelper(e.offsetX, e.offsetY);\n        let breadthFirst = new BreadthFirst({\n          color: this.color,\n          width: this.width,\n          height: this.height,\n          startIdx: sIdx,\n          speed: this.speed,\n          size: this.size,\n          cells: this.cells,\n          ctx: this.ctx});\n          this.paths.push(breadthFirst);\n        } else {\n          this.line.push([e.offsetX, e.offsetY]);\n          this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n          this.ctx.fillRect(e.offsetX, e.offsetY, 1, 1);\n        }\n      }\n  }\n\n  clear(e) {\n    e.preventDefault();\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.cells = new Array(this.canvas.width * this.canvas.height);\n    this.paths.forEach((p) => window.clearInterval(p.interval));\n    this.cells = {};\n    this.paths = [];\n    this.line = [];\n  }\n\n}\n\nexport default PathGenerator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/path_generator.js\n **/","\nclass BreadthFirst {\n  constructor(data) {\n    this.width = data.width;\n    this.height = data.height;\n    this.dist = 0;\n    this.startIdx = data.startIdx;\n    this.segments = [];\n    this.ctx = data.ctx;\n    this.size = data.size;\n    this.color = data.color;\n    this.colorGap = this.color.map(c => this.colorGapGenerator(c));\n    this.speed = data.speed;\n    this.visited = {};\n    this.cells = data.cells;\n\n    this.fillCell(this.startIdx);\n    this.segmentNeighbors(this.startIdx);\n    this.onePixelProcess = this.onePixelProcess.bind(this);\n\n    this.interval = window.setInterval(this.onePixelProcess, this.speed);\n  }\n\n  resumeInterval() {\n    if (this.segments.length) {\n      this.interval = window.setInterval(this.onePixelProcess, this.speed);\n    }\n  }\n\n  colorGapGenerator(c) {\n    return (255 - c) / this.size;\n  }\n\n  onePixelProcess() {\n    if (this.segments.length === 0) {\n      window.clearInterval(this.interval);\n    }\n    let randomSeg = this.popRandomSegment();\n    this.fillCell(randomSeg);\n    this.segmentNeighbors(randomSeg);\n    this.color = this.color.map((c, i) => c + this.colorGap[i]);\n  }\n\n  segmentNeighbors(idx) {\n    let neighbors = [idx - this.width, idx + this.width, idx - 1, idx + 1];\n    neighbors = neighbors.filter((i) => {\n      return i >= 0 && this.isInline(i) && i < (this.width * this.height) && this.isOpen(i);\n    });\n    neighbors.forEach((n) => this.segments.push(n));\n  }\n\n  isInline(idx) {\n    return idx % this.width !== 0;\n  }\n\n  isOpen(idx) {\n    return !this.cells[idx] && !this.segments.includes(idx);\n  }\n\n  popRandomSegment() {\n    let segments = this.segments;\n    let length = segments.length;\n    let i = Math.floor(Math.random() * length);\n    return segments.splice(i, 1)[0];\n  }\n  //\n  // rgbaSum(c1, c2){\n  //   let a = c1.a + c2.a*(1-c1.a);\n  //   return {\n  //     r: (c1.r * c1.a  + c2.r * c2.a * (1 - c1.a)) / a,\n  //     g: (c1.g * c1.a  + c2.g * c2.a * (1 - c1.a)) / a,\n  //     b: (c1.b * c1.a  + c2.b * c2.a * (1 - c1.a)) / a,\n  //     a: a\n  //   };\n  // }\n  //\n  // colorObject(c) {\n  //   let color = {};\n  //   ['r', 'g', 'b', 'a'].forEach((chr, idx) => {\n  //     color[chr] = Number((c[idx] / 255).toFixed(2));\n  //   });\n  //   return color;\n  // }\n  //\n  // colorArray(ob) {\n  //   let color = [ob.r, ob.g, ob.b, ob.a];\n  //   return color.map((n) => parseInt(n * 255));\n  // }\n\n  fillCell(idx) {\n    this.dist += 1;\n    this.visited[idx] = true;\n    this.cells[idx] = true;\n    let x = idx % this.width,\n        y = parseInt(idx / this.width);\n    // let spotColor = this.ctx.getImageData(x, y, 1, 1).data;\n    // let mergedColor = this.colorObject(this.color.concat(127));\n    //\n    // if (!spotColor.every(i => i === 0)) {\n    //   mergedColor = this.rgbaSum(this.colorObject(spotColor), mergedColor);\n    // }\n    // this.ctx.fillStyle = `rgba(${this.colorArray(mergedColor).join(\", \")})`;\n    this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n    this.ctx.fillRect(x, y, 1, 1);\n    if (this.dist === this.size) {\n      window.clearInterval(this.interval);\n    }\n  }\n}\n\n\nexport default BreadthFirst;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/breadth_first.js\n **/"],"sourceRoot":""}
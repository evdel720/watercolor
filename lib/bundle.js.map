{"version":3,"sources":["webpack/bootstrap e57080f13c46e63501a5","./lib/watercolor.js","./lib/path_generator.js","./lib/breadth_first.js"],"names":["document","addEventListener","pathGenerator","PathGenerator","canvas","getElementById","ctx","getContext","width","height","speed","color","paths","cells","mode","line","colorInput","e","target","style","backgroundColor","match","map","n","parseInt","sizeInput","size","value","images","querySelectorAll","forEach","i","changeBackGround","bind","clearButton","clear","modeChangeButton","modeChange","clickHandler","dragHandler","mouseUpHandler","className","setAttribute","src","min","max","length","lineCap","lineJoin","lineWidth","strokeStyle","join","beginPath","moveTo","slice","l","lineTo","stroke","x","y","sIdx","indexHelper","offsetX","offsetY","breadthFirst","startIdx","push","fillStyle","fillRect","button","buttons","preventDefault","clearRect","Array","p","window","clearInterval","interval","BreadthFirst","data","dist","segments","colorGap","colorGapGenerator","c","visited","fillCell","segmentNeighbors","onePixelProcess","setInterval","randomSeg","popRandomSegment","idx","neighbors","filter","isInline","isOpen","includes","Math","floor","random","splice"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e57080f13c46e63501a5\n **/","import PathGenerator from './path_generator.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let pathGenerator = new PathGenerator();\n  // let canvas = document.getElementById('canvas');\n  // let click = new MouseEvent('click', {clientX: 500, clientY: 500});\n  // canvas.dispatchEvent(click);\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/watercolor.js\n **/","import BreadthFirst from './breadth_first.js';\n\nclass PathGenerator {\n  constructor() {\n    this.canvas = document.getElementById('canvas');\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.speed = 0.01;\n    this.color = [0, 0, 0];\n    this.paths = [];\n    this.cells = {};\n    this.mode = \"water\";\n    this.line = [];\n\n    let colorInput = document.getElementById('color');\n    colorInput.addEventListener('change', (e) => {\n      this.color = e.target.style.backgroundColor.match(/\\d+/g).map((n) => parseInt(n));\n    });\n\n    this.sizeInput = document.getElementById('size');\n    this.size = parseInt(this.sizeInput.value);\n    this.sizeInput.addEventListener('change', (e) => {\n      this.size = parseInt(e.target.value);\n    });\n\n    let images = document.querySelectorAll('.options > *');\n    images.forEach((i) => {\n      i.addEventListener('click', this.changeBackGround.bind(this));\n    });\n\n    let clearButton = document.getElementById('clear');\n    clearButton.addEventListener('click', this.clear.bind(this));\n\n    let modeChangeButton = document.getElementById('mode_img');\n    modeChangeButton.addEventListener('click', this.modeChange.bind(this));\n\n    this.canvas.addEventListener('click', this.clickHandler.bind(this));\n    this.canvas.addEventListener('mousemove', this.dragHandler.bind(this));\n    this.canvas.addEventListener('mouseup', this.mouseUpHandler.bind(this));\n  }\n\n  changeBackGround(e) {\n    if (e.target.className === \"default\") {\n      this.canvas.setAttribute('style', 'background-image: none');\n    } else {\n      this.canvas.setAttribute('style', `background-image: url(${e.target.src})`);\n    }\n  }\n\n  modeChange(e) {\n    if (this.mode === 'water') {\n      this.mode = 'brush';\n      e.target.src = \"./assets/brush.png\";\n      // e.target.src = \"http://res.cloudinary.com/wkdal720/image/upload/v1473786825/brush_hmunvb.png\";\n      this.sizeInput.min = '2';\n      this.sizeInput.max = '10';\n      this.sizeInput.setAttribute('value', '5');\n      this.size = 5;\n    } else {\n      this.mode = 'water';\n      e.target.src = \"./assets/water.png\";\n      this.sizeInput.min = '100';\n      this.sizeInput.max = '1000';\n      this.sizeInput.setAttribute('value', '300');\n      this.size = 300;\n      // e.target.src = \"http://res.cloudinary.com/wkdal720/image/upload/v1473786828/water_qnvczd.png\";\n    }\n  }\n\n  mouseUpHandler(e) {\n    if (this.mode === 'brush' && this.line.length > 1) {\n      this.ctx.lineCap = \"round\";\n      this.ctx.lineJoin = \"round\";\n      this.ctx.lineWidth = this.size;\n      this.ctx.strokeStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n      this.ctx.beginPath();\n      this.ctx.moveTo(this.line[0][0], this.line[0][1]);\n      this.line.slice(1).forEach((l) => {\n        this.ctx.lineTo(l[0], l[1]);\n      });\n      this.ctx.stroke();\n      this.line = [];\n    }\n  }\n\n  indexHelper(x, y) {\n    return parseInt(x) + parseInt(y) * this.width;\n  }\n\n  clickHandler(e) {\n    if (this.mode === 'water') {\n      let sIdx = this.indexHelper(e.offsetX, e.offsetY);\n      let breadthFirst = new BreadthFirst({\n        color: this.color,\n        width: this.width,\n        height: this.height,\n        startIdx: sIdx,\n        speed: this.speed,\n        size: this.size,\n        cells: this.cells,\n        ctx: this.ctx});\n        this.paths.push(breadthFirst);\n    } else {\n      this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n      this.ctx.fillRect(e.offsetX, e.offsetY, this.size, this.size);\n      this.line = [];\n    }\n  }\n\n  dragHandler(e) {\n    if (e.button === 0 && e.buttons === 1) {\n      if (this.mode === 'water') {\n        let sIdx = this.indexHelper(e.offsetX, e.offsetY);\n        let breadthFirst = new BreadthFirst({\n          color: this.color,\n          width: this.width,\n          height: this.height,\n          startIdx: sIdx,\n          speed: this.speed,\n          size: this.size,\n          cells: this.cells,\n          ctx: this.ctx});\n          this.paths.push(breadthFirst);\n        } else {\n          this.line.push([e.offsetX, e.offsetY]);\n          this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n          this.ctx.fillRect(e.offsetX, e.offsetY, 1, 1);\n        }\n      }\n  }\n\n  clear(e) {\n    e.preventDefault();\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.cells = new Array(this.canvas.width * this.canvas.height);\n    this.paths.forEach((p) => window.clearInterval(p.interval));\n    this.cells = {};\n    this.paths = [];\n    this.line = [];\n  }\n\n}\n\nexport default PathGenerator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/path_generator.js\n **/","\nclass BreadthFirst {\n  constructor(data) {\n    this.width = data.width;\n    this.height = data.height;\n    this.dist = 0;\n    this.startIdx = data.startIdx;\n    this.segments = [];\n    this.ctx = data.ctx;\n    this.size = data.size;\n    this.color = data.color;\n    this.colorGap = this.color.map(c => this.colorGapGenerator(c));\n    this.speed = data.speed;\n    this.visited = {};\n    this.cells = data.cells;\n\n    this.fillCell(this.startIdx);\n    this.segmentNeighbors(this.startIdx);\n    this.onePixelProcess = this.onePixelProcess.bind(this);\n\n    this.interval = window.setInterval(this.onePixelProcess, this.speed);\n  }\n\n  resumeInterval() {\n    if (this.segments.length) {\n      this.interval = window.setInterval(this.onePixelProcess, this.speed);\n    }\n  }\n\n  colorGapGenerator(c) {\n    return (255 - c) / this.size;\n  }\n\n  onePixelProcess() {\n    if (this.segments.length === 0) {\n      window.clearInterval(this.interval);\n    }\n    let randomSeg = this.popRandomSegment();\n    this.fillCell(randomSeg);\n    this.segmentNeighbors(randomSeg);\n    this.color = this.color.map((c, i) => c + this.colorGap[i]);\n  }\n\n  segmentNeighbors(idx) {\n    let neighbors = [idx - this.width, idx + this.width, idx - 1, idx + 1];\n    neighbors = neighbors.filter((i) => {\n      return i >= 0 && this.isInline(i) && i < (this.width * this.height) && this.isOpen(i);\n    });\n    neighbors.forEach((n) => this.segments.push(n));\n  }\n\n  isInline(idx) {\n    return idx % this.width !== 0 && idx % this.width !== this.width - 1;\n  }\n\n  isOpen(idx) {\n    return !this.cells[idx] && !this.segments.includes(idx);\n  }\n\n  popRandomSegment() {\n    let segments = this.segments;\n    let length = segments.length;\n    let i = Math.floor(Math.random() * length);\n    return segments.splice(i, 1)[0];\n  }\n\n  fillCell(idx) {\n    this.dist += 1;\n    this.visited[idx] = true;\n    this.cells[idx] = true;\n    let x = idx % this.width,\n        y = parseInt(idx / this.width);\n    this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n    this.ctx.fillRect(x, y, 1, 1);\n    if (this.dist === this.size) {\n      window.clearInterval(this.interval);\n    }\n  }\n}\n\n\nexport default BreadthFirst;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/breadth_first.js\n **/"],"sourceRoot":""}
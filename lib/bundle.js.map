{"version":3,"sources":["webpack/bootstrap be5b4ae559dc272e5ecd","./lib/watercolor.js","./lib/path_generator.js","./lib/breadth_first.js"],"names":["document","addEventListener","pathGenerator","PathGenerator","canvas","getElementById","ctx","getContext","width","height","color","paths","cells","lineSegments","mode","colorInput","e","target","style","backgroundColor","match","map","n","parseInt","sizeInput","size","value","images","querySelectorAll","forEach","i","changeBackGround","bind","clearButton","clear","modeChangeButton","modeChange","clickHandler","dragHandler","mouseUpHandler","id","setAttribute","src","min","max","length","lineCap","lineJoin","lineWidth","strokeStyle","join","beginPath","moveTo","slice","l","lineTo","stroke","x","y","sIdx","indexHelper","offsetX","offsetY","breadthFirst","startIdx","push","fillStyle","fillRect","button","buttons","preventDefault","clearRect","p","clearInterval","BreadthFirst","data","dist","segments","colorGap","colorGapGenerator","c","onePixelProcess","fillCell","segmentNeighbors","interval","window","setInterval","randomSeg","popRandomSegment","idx","neighbors","filter","isInline","isOpen","includes","Math","floor","random","splice"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap be5b4ae559dc272e5ecd\n **/","import PathGenerator from './path_generator.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let pathGenerator = new PathGenerator();\n  // let canvas = document.getElementById('canvas');\n  // let click = new MouseEvent('click', {clientX: 500, clientY: 500});\n  // canvas.dispatchEvent(click);\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/watercolor.js\n **/","import BreadthFirst from './breadth_first.js';\n\nclass PathGenerator {\n  constructor() {\n    this.canvas = document.getElementById('canvas');\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.color = [0, 0, 0];\n    this.paths = [];\n    this.cells = {};\n    this.lineSegments = [];\n    this.mode = \"water\";\n\n    let colorInput = document.getElementById('color');\n    colorInput.addEventListener('change', (e) => {\n      this.color = e.target.style.backgroundColor.match(/\\d+/g).map((n) => parseInt(n));\n    });\n\n    this.sizeInput = document.getElementById('size');\n    this.size = parseInt(this.sizeInput.value);\n    this.sizeInput.addEventListener('change', (e) => {\n      this.size = parseInt(e.target.value);\n    });\n\n    let images = document.querySelectorAll('.options > *');\n    images.forEach((i) => {\n      i.addEventListener('click', this.changeBackGround.bind(this));\n    });\n\n    let clearButton = document.getElementById('clear');\n    clearButton.addEventListener('click', this.clear.bind(this));\n\n    let modeChangeButton = document.getElementById('mode_img');\n    modeChangeButton.addEventListener('click', this.modeChange.bind(this));\n\n    this.canvas.addEventListener('click', this.clickHandler.bind(this));\n    this.canvas.addEventListener('mousemove', this.dragHandler.bind(this));\n    this.canvas.addEventListener('mouseup', this.mouseUpHandler.bind(this));\n  }\n\n  changeBackGround(e) {\n    if (e.target.id === \"default\") {\n      this.canvas.setAttribute('style', 'background-image: none');\n    } else {\n      this.canvas.setAttribute('style', `background-image: url(${e.target.src})`);\n    }\n  }\n\n  modeChange(e) {\n    if (this.mode === 'water') {\n      this.mode = 'brush';\n      e.target.src = \"http://res.cloudinary.com/wkdal720/image/upload/v1473786825/brush_hmunvb.png\";\n      this.sizeInput.min = '2';\n      this.sizeInput.max = '10';\n      this.sizeInput.setAttribute('value', '5');\n      this.size = 5;\n    } else {\n      this.mode = 'water';\n      e.target.src = \"http://res.cloudinary.com/wkdal720/image/upload/v1473786828/water_qnvczd.png\";\n      this.sizeInput.min = '100';\n      this.sizeInput.max = '1000';\n      this.sizeInput.setAttribute('value', '300');\n      this.size = 300;\n    }\n  }\n\n  mouseUpHandler(e) {\n    if (this.mode === 'brush' && this.lineSegments.length > 1) {\n      this.ctx.lineCap = \"round\";\n      this.ctx.lineJoin = \"round\";\n      this.ctx.lineWidth = this.size;\n      this.ctx.strokeStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n      this.ctx.beginPath();\n      this.ctx.moveTo(this.lineSegments[0][0], this.lineSegments[0][1]);\n      this.lineSegments.slice(1).forEach((l) => {\n        this.ctx.lineTo(l[0], l[1]);\n      });\n      this.ctx.stroke();\n      this.lineSegments = [];\n    }\n  }\n\n  indexHelper(x, y) {\n    return parseInt(x) + parseInt(y) * this.width;\n  }\n\n  clickHandler(e) {\n    if (this.mode === 'water') {\n      let sIdx = this.indexHelper(e.offsetX, e.offsetY);\n      let breadthFirst = new BreadthFirst({\n        color: this.color,\n        width: this.width,\n        height: this.height,\n        startIdx: sIdx,\n        size: this.size,\n        cells: this.cells,\n        ctx: this.ctx});\n        this.paths.push(breadthFirst);\n    } else {\n      this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n      this.ctx.fillRect(e.offsetX, e.offsetY, this.size, this.size);\n      this.lineSegments = [];\n    }\n  }\n\n  dragHandler(e) {\n    if (e.button === 0 && e.buttons === 1) {\n      if (this.mode === 'water') {\n        let sIdx = this.indexHelper(e.offsetX, e.offsetY);\n        let breadthFirst = new BreadthFirst({\n          color: this.color,\n          width: this.width,\n          height: this.height,\n          startIdx: sIdx,\n          size: this.size,\n          cells: this.cells,\n          ctx: this.ctx});\n          this.paths.push(breadthFirst);\n        } else {\n          this.lineSegments.push([e.offsetX, e.offsetY]);\n          this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n          this.ctx.fillRect(e.offsetX, e.offsetY, 1, 1);\n        }\n      }\n  }\n\n  clear(e) {\n    e.preventDefault();\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.paths.forEach((p) => p.clearInterval());\n    this.cells = {};\n    this.paths = [];\n    this.lineSegments = [];\n  }\n\n}\n\nexport default PathGenerator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/path_generator.js\n **/","\nclass BreadthFirst {\n  constructor(data) {\n    this.ctx = data.ctx;\n    this.width = data.width;\n    this.height = data.height;\n    this.cells = data.cells;\n    this.size = data.size;\n    this.color = data.color;\n    this.startIdx = data.startIdx;\n\n    this.dist = 0;\n    this.segments = [];\n    this.colorGap = this.color.map(c => this.colorGapGenerator(c));\n    this.onePixelProcess = this.onePixelProcess.bind(this);\n\n    if (!this.cells[this.startIdx]) {\n      this.fillCell(this.startIdx);\n    }\n    this.segmentNeighbors(this.startIdx);\n\n    this.interval = window.setInterval(this.onePixelProcess, 10);\n    this.clearInterval = this.clearInterval.bind(this);\n  }\n\n  clearInterval() {\n    window.clearInterval(this.interval);\n  }\n\n  colorGapGenerator(c) {\n    // each time add numbers for each r,g,b depends on the size.\n    return (255 - c) / this.size;\n  }\n\n  onePixelProcess() {\n    if (this.segments.length === 0) {\n      this.clearInterval();\n    }\n    let randomSeg = this.popRandomSegment();\n    this.fillCell(randomSeg);\n    this.segmentNeighbors(randomSeg);\n    this.color = this.color.map((c, i) => c + this.colorGap[i]);\n  }\n\n  segmentNeighbors(idx) {\n    let neighbors = [idx - this.width, idx + this.width, idx - 1, idx + 1];\n    neighbors = neighbors.filter((i) => {\n      return (i >= 0 &&\n              i < (this.width * this.height) &&\n              this.isInline(idx) &&\n              this.isOpen(i));\n    });\n    neighbors.forEach((n) => this.segments.push(n));\n  }\n\n  isInline(idx) {\n    return idx % this.width !== 0 && idx % this.width !== this.width - 1;\n  }\n\n  isOpen(idx) {\n    return !this.cells[idx] && !this.segments.includes(idx);\n  }\n\n  popRandomSegment() {\n    let idx = Math.floor(Math.random() * this.segments.length);\n    return this.segments.splice(idx, 1)[0];\n  }\n\n  fillCell(idx) {\n    this.dist += 1;\n    this.cells[idx] = true;\n    this.ctx.fillStyle = `rgb(${this.color.map(n=> parseInt(n)).join(\", \")})`;\n    let x = idx % this.width,\n        y = parseInt(idx / this.width);\n    this.ctx.fillRect(x, y, 1, 1);\n    if (this.dist === this.size) {\n      this.clearInterval();\n    }\n  }\n}\n\n\nexport default BreadthFirst;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/breadth_first.js\n **/"],"sourceRoot":""}